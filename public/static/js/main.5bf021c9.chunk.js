(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,n){},32:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgNEAkOEBYJEAgICBsUFQoWIB0iIiAdHx8kKDQsJCYxJx8fLTEtMTUrLjo6IyszODM4NzQ5LisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAMgAlgMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAAAwYEBQcCAf/EAD8QAQABAgMDBgsFBwUAAAAAAAABAgMEBREGEiEUFjFBUaQyVFVhZYGRlKHS4hMVInGTJVJikrHR4QcjQ8Hx/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AOpgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAq+2Of3ssmzhsDXFN+r/cqrmiKpt09EaRpPXr0x1ecFoHL52rzvx3u1HynOvO/Hu7UfKDqA5fzrzvx7u1HynOzO/HfVyaj5QdQGq2bzOvNsroxF2mIuRM26t2OFUx2eqY+LagAAAAAAAAAAAAOQ51iOVZti78VzVTVcq3a6p1/DEzEfDR0HbHMLuX5NVNiYiu7VGH35nwImJ108/DTzaucYPDV4vF2sNa8O5VFuJnq14cf6gs2R7OZXi8ttYjHY6abtetX2dvEUUxRHGIiYmPN8WfzUyHylc97t/Kg5g8OOZ9z+p95g+k+5/UCbmpkPlK573b+VUc5sYXC5jesYG5VXYomKYuV1xO9PXxiI69Y9SwY/YunBYK/ibmZfht0TXuzhPCnqjXe6509rQZLhOX5rhsNMa01VxvR/DHGfhEgv2WXcPs/s9guWTNMVzTFVURru1V8eP5dHqb3XXoUzbm7Vi8xwGV2fCmYrmI7ap0jX1RPtXK3RFFuminopiKePZAPQAAAAAAAAAAIsViLeFw9y/eq0t0UzXNU9n9wUHbvM+VZjTgqNfs7GsTrw3qp/xpCsa6aadKbG4mvGYy9ibnhXK5uaa9H/AIhB636/3qv5jfr/AHqv5nkB9mqqeE1TMdkytv8Ap5g9/GYjGVRwt0xapme2rp0/KI+Kor9lv7F2JuYmeF25TN6J/iq4U/DSfaDDyX9r7Z4nGzxtWt6qmeqdPw0/DWfUvCr7AYP7HKrmJqj8V6udJ7aaeH9d5aAAAAAAAAAAAFc29uRRkM0z013aaOE9fGf+ljazaDLPvbLLmGiYi5wuUVVdVUdGv58faDmdrLMwvW6blrA4iqirjFdvC1TFX5TEaPX3Rmfk7E+6VLBg9qMbktmnL8fgN6u1EW43rk0TFMcI14TrGnRPYyOf3ozvn0gq/wB0Zn5OxPulR90Zn5OxPulS0c/vRnfPpOf3ozvn0g0WW7OZli8Vbt3MJdt29Y37t61NO5T5tdOrsWHb69uYbBZbYjwp39ynsjhTHrmZ9iPn96M759KDKacVtJtDbzO/Z3cNZ0nrmmN3waYmenjOs+voBc8uwsYLA4fDU/8AHRFGsdcx/nX2skAAAAAAAAAAAAAR3bNq9EfbW6ao7K6InT2o+Q4PxW1+hDIAY/IcH4ra/Qg5Dg/FbX6EMgBj8hwnitr9CP7J6aYpiKaaYimOG7TGkQ+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//Z"},34:function(e,t,n){e.exports=n(55)},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(20),c=n.n(r),l=n(6),i=(n(43),n(30)),u=n(3),s=n(4),m=n(7),A=n(5),d=n(8),h=(n(44),n(15));function p(e){return localStorage.getItem("token")?o.a.createElement("div",{className:"nav-wrapper"},o.a.createElement("div",{className:"left-side"},o.a.createElement("div",{className:"brand"},o.a.createElement("div",null,"BookStack"))),o.a.createElement("div",{className:"right-side"},o.a.createElement("div",{className:"nav-link-wrapper"},o.a.createElement(h.b,{to:"/collection"},"Book Collection")),o.a.createElement("div",{className:"nav-link-wrapper"},o.a.createElement(h.b,{to:"/search"},"Add Book")),o.a.createElement("div",{className:"nav-link-wrapper"},o.a.createElement(h.b,{onClick:e.handleLogout,to:"/login"},"Logout")))):o.a.createElement("div",{className:"nav-wrapper"},o.a.createElement("div",{className:"left-side"},o.a.createElement("div",{className:"brand"},o.a.createElement("div",null,"BookStack"))),o.a.createElement("div",{className:"right-side"},o.a.createElement("div",{className:"nav-link-wrapper"},o.a.createElement(h.b,{to:"/login"},"Login")),o.a.createElement("div",{className:"nav-link-wrapper"},o.a.createElement(h.b,{to:"/signup"},"Signup"))))}n(46);var f=n(13),b=function(){return function(e){var t=localStorage.getItem("token");fetch("/api/v1/books",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(t){t.error,e(E(t.books))}))}},E=function(e){return{type:"FETCH_BOOKS",payload:e}},g=function(){return{type:"LOGOUT_USER"}},k=n(10),O=(n(28),function(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("div",null,o.a.createElement("h1",null,"Welcome back,")),o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",{className:"login-input"},o.a.createElement("label",null,"Email:",o.a.createElement("input",{onChange:e.handleChange,type:"email",name:"email",value:e.userInfo.email})),o.a.createElement("br",null),o.a.createElement("label",null,"Password:",o.a.createElement("input",{onChange:e.handleChange,type:"password",name:"password",value:e.userInfo.password})),o.a.createElement("br",null),o.a.createElement("button",{type:"submit"},"Login"))))}),v=function(e){return{type:"LOGIN_USER",payload:e}},y=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(A.a)(t).call(this))).handleOnChange=function(t){e.setState(Object(k.a)({},t.target.name,t.target.value))},e.handleOnSubmit=function(t){t.preventDefault(),e.props.userAuthenticate(e.state).then((function(){localStorage.getItem("token")&&e.props.fetchBooks()})).then((function(){return e.props.history.push("/collection")})),e.setState({email:"",password:""})},e.componentDidMount=function(){localStorage.getItem("token")&&e.props.history.push("/home")},e.state={email:"",password:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"left-container"},o.a.createElement(O,{handleSubmit:this.handleOnSubmit,userInfo:this.state,handleChange:this.handleOnChange})),o.a.createElement("div",{className:"right-container"}))}}]),t}(a.Component),j=Object(l.b)(null,(function(e){return{userAuthenticate:function(t){return e((n=t,function(e){return fetch("/api/v1/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:n})}).then((function(e){return e.json()})).then((function(t){t.jwt?(localStorage.setItem("token",t.jwt),e(v(t.user))):console.log("User did not create.")}))}));var n},fetchBooks:function(){return e(b())}}}))(y),N=function(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("div",null,o.a.createElement("h1",null,"Join BookStack,")),o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",{className:"login-input"},o.a.createElement("label",null,"Name:",o.a.createElement("input",{onChange:e.handleChange,type:"name",name:"name",value:e.userInfo.name})),o.a.createElement("br",null),o.a.createElement("label",null,"Email:",o.a.createElement("input",{onChange:e.handleChange,type:"email",name:"email",value:e.userInfo.email})),o.a.createElement("br",null),o.a.createElement("label",null,"Password:",o.a.createElement("input",{onChange:e.handleChange,type:"password",name:"password",value:e.userInfo.password})),o.a.createElement("br",null),o.a.createElement("label",null,"Password Confirmation:",o.a.createElement("input",{onChange:e.handleChange,type:"password",name:"password_confirmation",value:e.userInfo.password_confirmation})),o.a.createElement("br",null),o.a.createElement("button",{type:"submit"},"Signup"))))},C=function(e){return{type:"LOGIN_USER",payload:e}},B=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(A.a)(t).call(this))).handleOnChange=function(t){e.setState(Object(k.a)({},t.target.name,t.target.value))},e.handleOnSubmit=function(t){t.preventDefault(),e.props.userCreate(e.state).then((function(){return e.props.history.push("/collection")})),e.setState({name:"",email:"",password:"",password_confirmation:""})},e.componentDidMount=function(){localStorage.getItem("token")&&e.props.history.push("/home")},e.state={name:"",email:"",password:"",password_confirmation:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"left-container"},o.a.createElement(N,{handleSubmit:this.handleOnSubmit,userInfo:this.state,handleChange:this.handleOnChange})),o.a.createElement("div",{className:"right-container"}))}}]),t}(a.Component),S=Object(l.b)(null,(function(e){return{userCreate:function(t){return e((n=t,function(e){return fetch("/api/v1/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:n})}).then((function(e){return e.json()})).then((function(t){t.jwt?(console.log("user created!"),console.log(t),localStorage.setItem("token",t.jwt),e(C(t.user))):console.log("User not created!")}))}));var n}}}))(B),T=n(2),I=function(e){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("h2",null,"Search for a book below")),o.a.createElement("div",null,o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("input",{onChange:e.handleChange,type:"text",name:"searchTerm",value:e.searchTerm,placeholder:"search for a book"}),o.a.createElement("button",{type:"submit"},o.a.createElement("i",{class:"fa fa-search"})))))},w=(n(47),n(32)),D=n.n(w),U=function(e){var t=function(){return"imageLinks"in e.book?e.book.imageLinks.thumbnail:D.a},n=function(){return"authors"in e.book?e.book.authors[0]:"No Author Listed"},a=function(){return"categories"in e.book?e.book.categories[0]:"No Genre Listed"},r=function(){return"description"in e.book?e.book.description:"No summary available for this title."};return o.a.createElement("div",{className:"book"},o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"book-img"},o.a.createElement("img",{src:t(),alt:"book cover of ".concat(e.book.title)}),o.a.createElement("button",{onClick:function(){return e.handleClick({title:e.book.title,summary:r(),author:n(),genre:a(),img_url:t()})},id:e.bookId},"Add To Collection")),o.a.createElement("div",{className:"book-info"},o.a.createElement("h4",null,e.book.title),o.a.createElement("p",null,"by ",n()),o.a.createElement("p",null,r()),o.a.createElement("p",{className:"genre"},"Genre"),o.a.createElement("p",null,a()))))},K=function(e){return{type:"CREATE_BOOK",payload:e}},_=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){n.props.createBook(e).then(n.props.history.push("/collection"))},n.renderBooks=function(e){return e.map((function(e,t){return o.a.createElement(U,{handleClick:n.handleClick,key:t,book:e.volumeInfo,bookId:t})}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"books-container"},this.renderBooks(this.props.books))}}]),t}(a.Component),L=Object(f.g)(Object(l.b)(null,(function(e){return{createBook:function(t){return e(function(e){var t=localStorage.getItem("token");return function(n){return fetch("/api/v1/books",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({book:e})}).then((function(e){return e.json()})).then((function(e){console.log(e),n(K(e.book))}))}}(t))}}}))(_)),R=(n(48),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(A.a)(t).call(this))).handleOnChange=function(t){e.setState(Object(T.a)({},e.state,Object(k.a)({},t.target.name,t.target.value)))},e.handleOnSubmit=function(t){t.preventDefault(),fetch("https://www.googleapis.com/books/v1/volumes?q="+e.state.searchTerm).then((function(e){return e.json()})).then((function(t){e.setState(Object(T.a)({},e.state,{books:t.items}))})),e.setState(Object(T.a)({},e.state,{searchTerm:""}))},e.renderBooksIfTheyExist=function(){if(e.state.books)return o.a.createElement(L,{books:e.state.books})},e.state={books:[],searchTerm:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"search-container"},o.a.createElement("div",{className:"hero-image"}),o.a.createElement(I,{searchTerm:this.state.searchTerm,handleChange:this.handleOnChange,handleSubmit:this.handleOnSubmit}),this.renderBooksIfTheyExist())}}]),t}(a.Component)),x=(n(49),n(50),function(e){return o.a.createElement("div",{className:"user-book"},o.a.createElement("div",{className:"user-book"},o.a.createElement("img",{onClick:function(){return e.handleClick(e.book.id)},src:e.book.img_url,alt:e.book.title+"'s Book Cover"})))}),G=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).renderUserBooks=function(e){return e.map((function(e,t){return o.a.createElement(x,{handleClick:n.handleBookClick,key:t,book:e})}))},n.handleBookClick=function(e){n.props.history.push("/books/".concat(e))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"collection"},o.a.createElement("div",{className:"hero-image"}),o.a.createElement("h1",null,"Here is your book collection"),o.a.createElement("div",{className:"book-collection"},this.renderUserBooks(this.props.userBooks)))}}]),t}(a.Component),P=Object(l.b)((function(e){return{userBooks:e.bookReducer.books}}))(G),V=function(e){return{type:"UPDATE_BOOK",payload:e}},H=function(e){return{type:"DELETE_BOOK",payload:e}},Y=(n(51),n(52),function(e){return o.a.createElement("div",{className:"book-page"},o.a.createElement("div",{className:"book-page-image"},o.a.createElement("img",{src:e.book.img_url,alt:e.book.title+"s Book Cover"}),o.a.createElement("button",{className:"book-delete-btn",onClick:function(){return e.handleDelete(e.book.id)}},o.a.createElement("i",{className:"fa fa-trash"}," Delete Book"))),o.a.createElement("div",{onBlur:function(t){return e.handleBlur(t,e.book.id)},onDoubleClick:e.handleEditClick},o.a.createElement("h3",{id:"title"},e.book.title),o.a.createElement("p",{className:"non-editable"},"By,")," ",o.a.createElement("p",{id:"author"},e.book.author),o.a.createElement("p",{id:"summary"},e.book.summary),o.a.createElement("h4",{className:"genre non-editable"},"Genre"),o.a.createElement("p",{id:"genre"},e.book.genre),o.a.createElement("hr",null)))}),F=(n(53),function(e){return{type:"CREATE_NOTE",payload:e}}),z=function(e){return{type:"GET_NOTES",payload:e}},Q=function(e){return{type:"DELETE_NOTE",payload:e}},X=function(e){return{type:"UPDATE_NOTE",payload:e}},M=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{onDoubleClick:e.handleEditClick,onBlur:function(t){return e.handleBlur(t,e.note.id)}},o.a.createElement("p",{className:"non-editable"},e.note.updated_at),o.a.createElement("p",{id:"content"},e.note.content),o.a.createElement("button",{className:"note-delete-btn",onClick:function(){return e.handleDelete(e.note.id)}},o.a.createElement("i",{class:"fa fa-trash"}))))},q=function(e){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("input",{onChange:e.handleChange,type:"textarea",name:"content",placeholder:"enter note",value:e.content}),o.a.createElement("button",{className:"create-note-btn",type:"submit"},o.a.createElement("i",{class:"fa fa-plus","aria-hidden":"true"}))))},J=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(A.a)(t).call(this,e))).handleBlur=function(e,t){e.target.removeAttribute("contentEditable");var a=t,o=Object(k.a)({},e.target.id,e.target.textContent);n.props.updateNote(a,o)},n.handleEditClick=function(e){"DIV"===e.target.tagName||e.target.classList.contains("non-editable")||(e.target.contentEditable=!0,e.target.focus())},n.handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.handleNoteDelete=function(e){n.props.deleteNote(e)},n.handleSubmit=function(e){e.preventDefault(),n.props.createNote(n.state),n.setState(Object(T.a)({},n.state,{content:""}))},n.renderNotes=function(){return n.props.notes.map((function(e,t){return o.a.createElement(M,{handleBlur:n.handleBlur,handleEditClick:n.handleEditClick,handleDelete:n.handleNoteDelete,key:t,note:e})}))},n.state={book_id:e.bookId,content:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getNotes(this.props.bookId)}},{key:"render",value:function(){return this.renderNotes(),o.a.createElement("div",{className:"notes-container"},o.a.createElement(q,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,content:this.state.content}),o.a.createElement("div",{className:"ul-container"},o.a.createElement("ul",null,this.renderNotes())))}}]),t}(a.Component),Z=Object(l.b)((function(e){return{notes:e.noteReducer.notes}}),(function(e){return{createNote:function(t){return e(function(e){var t=localStorage.getItem("token");return function(n){return fetch("/api/v1/notes",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({note:e})}).then((function(e){return e.json()})).then((function(e){n(F(e.note))}))}}(t))},getNotes:function(t){return e(function(e){return function(t){var n=localStorage.getItem("token");fetch("/api/v1/notes/".concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()})).then((function(e){t(z(e.notes||[]))}))}}(t))},deleteNote:function(t){return e(function(e){var t=localStorage.getItem("token");return function(n){return fetch("/api/v1/notes/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){n(Q(e.note.id))}))}}(t))},updateNote:function(t,n){return e(function(e,t){var n=localStorage.getItem("token"),a=parseInt(e,10);return function(e){return fetch("/api/v1/notes/".concat(a),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({note:t})}).then((function(e){return e.json()})).then((function(t){console.log(t),e(X(t.note))}))}}(t,n))}}}))(J),W=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(o)))).handleBlur=function(e,t){e.target.removeAttribute("contentEditable");var a=t,o=Object(k.a)({},e.target.id,e.target.textContent);n.props.updateBook(a,o)},n.handleEditClick=function(e){"DIV"===e.target.tagName||e.target.classList.contains("non-editable")||(e.target.contentEditable=!0,e.target.focus())},n.handleBookDelete=function(e){n.props.deleteBook(e).then((function(){return n.props.history.push("/collection")}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"book-show"},o.a.createElement("div",{className:"hero-image"}),o.a.createElement(Y,{handleDelete:this.handleBookDelete,handleBlur:this.handleBlur,handleEditClick:this.handleEditClick,book:this.props.book}),o.a.createElement("div",{className:"note-heading"},o.a.createElement("h2",null,"Notes")),o.a.createElement(Z,{bookId:this.props.bookId}))}}]),t}(a.Component),$=Object(l.b)((function(e,t){var n=parseInt(t.match.params.bookId,10);return{book:e.bookReducer.books.find((function(e){return e.id===n}))||[],bookId:n}}),(function(e){return{updateBook:function(t,n){return e(function(e,t){var n=localStorage.getItem("token"),a=parseInt(e,10);return function(e){return fetch("/api/v1/books/".concat(a),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({book:t})}).then((function(e){return e.json()})).then((function(t){e(V(t.book))}))}}(t,n))},deleteBook:function(t){return e(function(e){var t=localStorage.getItem("token");return function(n){return fetch("/api/v1/books/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){n(H(e.book.id))}))}}(t))}}}))(W),ee=(n(54),function(){return o.a.createElement("div",{className:"four-oh-four"})}),te=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(o)))).handleLogout=function(){n.props.logoutUser(),n.props.history.push("login")},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&this.props.fetchBooks()}},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement(p,{handleLogout:this.handleLogout}),o.a.createElement(f.d,null,o.a.createElement(f.b,{exact:!0,path:"/",component:j}),o.a.createElement(f.b,{exact:!0,path:"/login",component:j}),o.a.createElement(f.b,{exact:!0,path:"/signup",component:S}),o.a.createElement(ne,{exact:!0,path:"/search",component:R}),o.a.createElement(ne,{exact:!0,path:"/collection",component:P}),o.a.createElement(ne,{exact:!0,path:"/books/:bookId",component:$}),o.a.createElement(f.b,{component:ee})))}}]),t}(a.Component),ne=function(e){var t=e.component,n=Object(i.a)(e,["component"]);return o.a.createElement(f.b,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?o.a.createElement(o.a.Fragment,null,o.a.createElement(t,e)):o.a.createElement(f.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ae=Object(f.g)(Object(l.b)(null,(function(e){return{fetchBooks:function(){return e(b())},logoutUser:function(){return e(g())}}}))(te)),oe=n(16),re=n(33),ce={currentUser:{},loggedIn:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return Object(T.a)({},e,{currentUser:t.payload,loggedIn:!0});case"LOGOUT_USER":return localStorage.removeItem("token"),Object(T.a)({},e,{currentUser:{},loggedIn:!1});default:return e}},ie=n(17),ue={books:[],loading:!1},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGOUT_USER":return ue;case"FETCHING_BOOKS":return Object(T.a)({},e,{loading:!0});case"FETCH_BOOKS":return Object(T.a)({},e,{books:Object(ie.a)(t.payload),loading:!1});case"CREATE_BOOK":return Object(T.a)({},e,{books:e.books.concat(t.payload)});case"UPDATE_BOOK":return Object(T.a)({},e,{books:[].concat(Object(ie.a)(e.books.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case"DELETE_BOOK":return Object(T.a)({},e,{books:e.books.filter((function(e){return e.id!==t.payload}))});default:return e}},me={notes:[]},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NOTES":return Object(T.a)({},e,{notes:Object(ie.a)(t.payload)});case"UPDATE_NOTE":var n=e.notes.findIndex((function(e){return e.id===t.payload.id}));return console.log(n),Object(T.a)({},e,{notes:Object(ie.a)(e.notes.map((function(e){return e.id===t.payload.id?Object(T.a)({},t.payload):e})))});case"CREATE_NOTE":return Object(T.a)({},e,{notes:[t.payload].concat(Object(ie.a)(e.notes))});case"DELETE_NOTE":return Object(T.a)({},e,{notes:e.notes.filter((function(e){return e.id!==t.payload}))});default:return e}},de=Object(oe.c)({userReducer:le,bookReducer:se,noteReducer:Ae});var he=Object(oe.e)(de,Object(oe.d)(Object(oe.a)(re.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));c.a.render(o.a.createElement(l.a,{store:he},o.a.createElement(h.a,null,o.a.createElement(ae,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.5bf021c9.chunk.js.map